data.pkg-config {
  files = pkg-config/gobject-2.0.pc \
          pkg-config/glib-2.0.pc
  install = false;
}

tests {

  build-rule {
    command = ./src/test-runner build-rule
    data = build-rule/expected build-rule/Recipe
  }
  chain {
    command = ./src/test-runner chain
    data = chain/expected chain/Recipe
  }
  clean {
    command = ./src/test-runner clean
    data = clean/expected clean/Recipe
  }
  test-success {
    command = ./src/test-runner test-success
    data = test-success/expected test-success/Recipe
  }
  test-failure {
    command = ./src/test-runner test-failure
    data = test-failure/expected test-failure/Recipe
  }

  unknown-program {
    command = ./src/test-runner unknown-program
    data = unknown-program/expected unknown-program/Recipe unknown-program/test.unknown
  }
  unknown-library {
    command = ./src/test-runner unknown-library
    data = unknown-library/expected unknown-library/Recipe unknown-library/test.unknown
  }

  # Rule tests
  missing-input {
    command = ./src/test-runner missing-input
    data = missing-input/expected missing-input/Recipe
  }
  missing-output {
    command = ./src/test-runner missing-output
    data = missing-output/expected missing-output/Recipe
  }
  multi-input {
    command = ./src/test-runner multi-input
    data = multi-input/expected multi-input/Recipe
  }
  newer {
    command = ./src/test-runner newer
    data = newer/expected newer/Recipe
  }
  rule {
    command = ./src/test-runner rule
    data = rule/expected rule/Recipe
  }

  # Script test
  script {
    command = ./src/test-runner script
    data = script/expected script/Recipe script/test
  }

  # C tests
  c-program-simple {
    command = ./src/test-runner c-program-simple
    data = c-program-simple/expected c-program-simple/Recipe c-program-simple/test.c
  }
  c-program-no-install {
    command = ./src/test-runner c-program-no-install
    data = c-program-no-install/expected c-program-no-install/Recipe c-program-no-install/test.c
  }
  c-program-install-directory {
    command = ./src/test-runner c-program-install-directory
    data = c-program-install-directory/expected c-program-install-directory/Recipe c-program-install-directory/test.c
  }
  c-program-complex {
    command = ./src/test-runner c-program-complex
    data = c-program-complex/expected c-program-complex/Recipe c-program-complex/test1.c c-program-complex/test2.c c-program-complex/test3.c
  }
  c-library-simple {
    command = ./src/test-runner c-library-simple
    data = c-library-simple/expected c-library-simple/Recipe c-library-simple/test.c
  }
  c-library-no-install {
    command = ./src/test-runner c-library-no-install
    data = c-library-no-install/expected c-library-no-install/Recipe c-library-no-install/test.c
  }
  c-library-install-directory {
    command = ./src/test-runner c-library-install-directory
    data = c-library-install-directory/expected c-library-install-directory/Recipe c-library-install-directory/test.c
  }
  c-library-complex {
    command = ./src/test-runner c-library-complex
    data = c-library-complex/expected c-library-complex/Recipe c-library-complex/test1.c c-library-complex/test2.c c-library-complex/test3.c c-library-complex/test.h
  }

  # C++ tests
  c++-program-simple {
    command = ./src/test-runner c++-program-simple
    data = c++-program-simple/expected c++-program-simple/Recipe c++-program-simple/test.cpp
  }
  c++-program-no-install {
    command = ./src/test-runner c++-program-no-install
    data = c++-program-no-install/expected c++-program-no-install/Recipe c++-program-no-install/test.cpp
  }
  c++-program-install-directory {
    command = ./src/test-runner c++-program-install-directory
    data = c++-program-install-directory/expected c++-program-install-directory/Recipe c++-program-install-directory/test.cpp
  }
  c++-program-complex {
    command = ./src/test-runner c++-program-complex
    data = c++-program-complex/expected c++-program-complex/Recipe c++-program-complex/test1.cpp c++-program-complex/test2.cpp c++-program-complex/test3.cpp
  }
  c++-library-simple {
    command = ./src/test-runner c++-library-simple
    data = c++-library-simple/expected c++-library-simple/Recipe c++-library-simple/test.cpp
  }
  c++-library-no-install {
    command = ./src/test-runner c++-library-no-install
    data = c++-library-no-install/expected c++-library-no-install/Recipe c++-library-no-install/test.cpp
  }
  c++-library-install-directory {
    command = ./src/test-runner c++-library-install-directory
    data = c++-library-install-directory/expected c++-library-install-directory/Recipe c++-library-install-directory/test.cpp
  }
  c++-library-complex {
    command = ./src/test-runner c++-library-complex
    data = c++-library-complex/expected c++-library-complex/Recipe c++-library-complex/test.h c++-library-complex/test1.cpp c++-library-complex/test2.cpp c++-library-complex/test3.cpp
  }

  # Qt tests
  qt-program-simple {
    command = ./src/test-runner qt-program-simple
    data = qt-program-simple/expected qt-program-simple/Recipe qt-program-simple/test.cpp
  }
  qt-program-complex {
    command = ./src/test-runner qt-program-complex
    data = qt-program-complex/expected qt-program-complex/Recipe qt-program-complex/test1.cpp qt-program-complex/test2.cpp qt-program-complex/test3.cpp
  }
  qt-library-simple {
    command = ./src/test-runner qt-library-simple
    data = qt-library-simple/expected qt-library-simple/Recipe qt-library-simple/test.cpp
  }
  qt-library-complex {
    command = ./src/test-runner qt-library-complex
    data = qt-library-complex/expected qt-library-complex/Recipe qt-library-complex/test.h qt-library-complex/test1.cpp qt-library-complex/test2.cpp qt-library-complex/test3.cpp
  }

  # C# tests
  csharp-program-simple {
    command = ./src/test-runner csharp-program-simple
    data = csharp-program-simple/expected csharp-program-simple/Recipe csharp-program-simple/test.cs
  }
  csharp-program-no-install {
    command = ./src/test-runner csharp-program-no-install
    data = csharp-program-no-install/expected csharp-program-no-install/Recipe csharp-program-no-install/test.cs
  }
  csharp-program-install-directory {
    command = ./src/test-runner csharp-program-install-directory
    data = csharp-program-install-directory/expected csharp-program-install-directory/Recipe csharp-program-install-directory/test.cs
  }
  csharp-program-complex {
    command = ./src/test-runner csharp-program-complex
    data = csharp-program-complex/expected csharp-program-complex/Recipe csharp-program-complex/test1.cs csharp-program-complex/test2.cs csharp-program-complex/test3.cs
  }
  csharp-library-simple {
    command = ./src/test-runner csharp-library-simple
    data = csharp-library-simple/expected csharp-library-simple/Recipe csharp-library-simple/test.cs
  }
  csharp-library-no-install {
    command = ./src/test-runner csharp-library-no-install
    data = csharp-library-no-install/expected csharp-library-no-install/Recipe csharp-library-no-install/test.cs
  }
  csharp-library-install-directory {
    command = ./src/test-runner csharp-library-install-directory
    data = csharp-library-install-directory/expected csharp-library-install-directory/Recipe csharp-library-install-directory/test.cs
  }
  csharp-library-complex {
    command = ./src/test-runner csharp-library-complex
    data = csharp-library-complex/expected csharp-library-complex/Recipe csharp-library-complex/test1.cs csharp-library-complex/test2.cs csharp-library-complex/test3.cs
  }

  # Vala tests
  vala-program-simple {
    command = ./src/test-runner vala-program-simple
    data = vala-program-simple/expected vala-program-simple/Recipe vala-program-simple/test.vala
  }
  vala-program-no-install {
    command = ./src/test-runner vala-program-no-install
    data = vala-program-no-install/expected vala-program-no-install/Recipe vala-program-no-install/test.vala
  }
  vala-program-install-directory {
    command = ./src/test-runner vala-program-install-directory
    data = vala-program-install-directory/expected vala-program-install-directory/Recipe vala-program-install-directory/test.vala
  }
  vala-program-complex {
    command = ./src/test-runner vala-program-complex
    data = vala-program-complex/expected vala-program-complex/Recipe vala-program-complex/test1.vala vala-program-complex/test2.vala vala-program-complex/test3.vala
  }
  vala-library-simple {
    command = ./src/test-runner vala-library-simple
    data = vala-library-simple/expected vala-library-simple/Recipe vala-library-simple/test.vala
  }
  vala-library-no-install {
    command = ./src/test-runner vala-library-no-install
    data = vala-library-no-install/expected vala-library-no-install/Recipe vala-library-no-install/test.vala
  }
  vala-library-install-directory {
    command = ./src/test-runner vala-library-install-directory
    data = vala-library-install-directory/expected vala-library-install-directory/Recipe vala-library-install-directory/test.vala
  }
  vala-library-complex {
    command = ./src/test-runner vala-library-complex
    data = vala-library-complex/expected vala-library-complex/Recipe vala-library-complex/test1.vala vala-library-complex/test2.vala vala-library-complex/test3.vala
  }

  # Java tests
  java-program-simple {
    command = ./src/test-runner java-program-simple
    data = java-program-simple/expected java-program-simple/Recipe java-program-simple/Test.java
  }
  java-program-no-install {
    command = ./src/test-runner java-program-no-install
    data = java-program-no-install/expected java-program-no-install/Recipe java-program-no-install/Test.java
  }
  java-program-install-directory {
    command = ./src/test-runner java-program-install-directory
    data = java-program-install-directory/expected java-program-install-directory/Recipe java-program-install-directory/Test.java
  }
  java-program-complex {
    command = ./src/test-runner java-program-complex
    data = java-program-complex/expected java-program-complex/Recipe java-program-complex/com/example/Test1.java java-program-complex/com/example/Test2.java java-program-complex/com/example/Test3.java
  }
  java-library-simple {
    command = ./src/test-runner java-library-simple
    data = java-library-simple/expected java-library-simple/Recipe java-library-simple/Test.java
  }
  java-library-no-install {
    command = ./src/test-runner java-library-no-install
    data = java-library-no-install/expected java-library-no-install/Recipe java-library-no-install/Test.java
  }
  java-library-install-directory {
    command = ./src/test-runner java-library-install-directory
    data = java-library-install-directory/expected java-library-install-directory/Recipe java-library-install-directory/Test.java
  }
  java-library-complex {
    command = ./src/test-runner java-library-complex
    data = java-library-complex/expected java-library-complex/Recipe java-library-complex/com/example/Test1.java java-library-complex/com/example/Test2.java java-library-complex/com/example/Test3.java
  }

  # Python tests
  python-program-simple {
    command = ./src/test-runner python-program-simple
    data = python-program-simple/expected python-program-simple/Recipe python-program-simple/test.py
  }
  python-program-no-install {
    command = ./src/test-runner python-program-no-install
    data = python-program-no-install/expected python-program-no-install/Recipe python-program-no-install/test.py
  }
  python-program-install-directory {
    command = ./src/test-runner python-program-install-directory
    data = python-program-install-directory/expected python-program-install-directory/Recipe python-program-install-directory/test.py
  }
  python-program-complex {
    command = ./src/test-runner python-program-complex
    data = python-program-complex/expected python-program-complex/Recipe python-program-complex/test1.py python-program-complex/test2.py python-program-complex/test3.py
  }
  python3-program-simple {
    command = ./src/test-runner python3-program-simple
    data = python3-program-simple/expected python3-program-simple/Recipe python3-program-simple/test.py
  }
  python-library-simple {
    command = ./src/test-runner python-library-simple
    data = python-library-simple/expected python-library-simple/Recipe python-library-simple/test.py
  }
  python-library-no-install {
    command = ./src/test-runner python-library-no-install
    data = python-library-no-install/expected python-library-no-install/Recipe python-library-no-install/test.py
  }
  python-library-install-directory {
    command = ./src/test-runner python-library-install-directory
    data = python-library-install-directory/expected python-library-install-directory/Recipe python-library-install-directory/test.py
  }
  python-library-complex {
    command = ./src/test-runner python-library-complex
    data = python-library-complex/expected python-library-complex/Recipe python-library-complex/test1.py python-library-complex/test2.py python-library-complex/test3.py
  }

  # Go tests
  go-program-simple {
    command = ./src/test-runner go-program-simple
    data = go-program-simple/expected go-program-simple/Recipe go-program-simple/test.go
  }
  go-program-no-install {
    command = ./src/test-runner go-program-no-install
    data = go-program-no-install/expected go-program-no-install/Recipe go-program-no-install/test.go
  }
  go-program-install-directory {
    command = ./src/test-runner go-program-install-directory
    data = go-program-install-directory/expected go-program-install-directory/Recipe go-program-install-directory/test.go
  }
  go-program-complex {
    command = ./src/test-runner go-program-complex
    data = go-program-complex/expected go-program-complex/Recipe go-program-complex/test1.go go-program-complex/test2.go go-program-complex/test3.go
  }

  # Haskell tests
  haskell-program-simple {
    command = ./src/test-runner haskell-program-simple
    data = haskell-program-simple/expected haskell-program-simple/Recipe haskell-program-simple/test.hs
  }
  haskell-program-no-install {
    command = ./src/test-runner haskell-program-no-install
    data = haskell-program-no-install/expected haskell-program-no-install/Recipe haskell-program-no-install/test.hs
  }
  haskell-program-install-directory {
    command = ./src/test-runner haskell-program-install-directory
    data = haskell-program-install-directory/expected haskell-program-install-directory/Recipe haskell-program-install-directory/test.hs
  }
  haskell-program-complex {
    command = ./src/test-runner haskell-program-complex
    data = haskell-program-complex/expected haskell-program-complex/Recipe haskell-program-complex/test1.hs haskell-program-complex/test2.hs haskell-program-complex/test3.hs
  }

  # Data tests
  data-other {
    command = ./src/test-runner data-other
    data = data-other/expected data-other/Recipe data-other/test
  }

  data-man {
    command = ./src/test-runner data-man
    data = data-man/expected data-man/Recipe data-man/test.1
  }

  data-mallard-simple {
    command = ./src/test-runner data-mallard-simple
    data = data-mallard-simple/expected data-mallard-simple/Recipe data-mallard-simple/index.page data-mallard-simple/test.page
  }
  data-mallard-complex {
    command = ./src/test-runner data-mallard-complex
    data = data-mallard-complex/expected data-mallard-complex/Recipe data-mallard-complex/index.page data-mallard-complex/test.page data-mallard-complex/fr.po data-mallard-complex/it.po
  }

  data-gettext {
    command = ./src/test-runner data-gettext
    data = data-gettext/expected data-gettext/Recipe data-gettext/de.po data-gettext/fr.po data-gettext/it.po
  }

  data-gsettings-simple {
    command = ./src/test-runner data-gsettings-simple
    data = data-gsettings-simple/expected data-gsettings-simple/Recipe data-gsettings-simple/com.example.Test.gschema.xml
  }
  data-gsettings-complex {
    command = ./src/test-runner data-gsettings-complex
    data = data-gsettings-complex/expected data-gsettings-complex/Recipe data-gsettings-complex/com.example.Test.gschema.xml data-gsettings-complex/test.convert data-gsettings-complex/test.override
  }

  data-gtk-simple {
    command = ./src/test-runner data-gtk-simple
    data = data-gtk-simple/expected data-gtk-simple/Recipe data-gtk-simple/test.ui
  }
  data-gtk-complex {
    command = ./src/test-runner data-gtk-complex
    data = data-gtk-complex/expected data-gtk-complex/Recipe data-gtk-complex/test.ui
  }

  data-xdg-simple {
    command = ./src/test-runner data-xdg-simple
    data = data-xdg-simple/expected data-xdg-simple/Recipe data-xdg-simple/test.desktop
  }
  data-xdg-complex {
    command = ./src/test-runner data-xdg-complex
    data = data-xdg-complex/expected data-xdg-complex/Recipe data-xdg-complex/test.desktop
  }

  # Release tests
  release-gzip {
    command = ./src/test-runner release-gzip
    data = release-gzip/expected release-gzip/Recipe
  }
  release-bzip {
    command = ./src/test-runner release-bzip
    data = release-bzip/expected release-bzip/Recipe
  }
  release-xzip {
    command = ./src/test-runner release-xzip
    data = release-xzip/expected release-xzip/Recipe
  }
  release-deb {
    command = ./src/test-runner release-deb
    data = release-deb/expected release-deb/Recipe
  }
  release-rpm {
    command = ./src/test-runner release-rpm
    data = release-rpm/expected release-rpm/Recipe
  }
  release-launchpad {
    command = ./src/test-runner release-launchpad
    data = release-launchpad/expected release-launchpad/Recipe
  }
  release-ppa {
    command = ./src/test-runner release-ppa
    data = release-ppa/expected release-ppa/Recipe
  }
  release-gnome {
    command = ./src/test-runner release-gnome
    data = release-gnome/expected release-gnome/Recipe
  }
}

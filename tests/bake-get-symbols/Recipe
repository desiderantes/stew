programs.test-bake-get-symbols {
  sources = test-bake-get-symbols.vala
  vala-packages = posix
  install = false

  tests {
    empty {
      args = empty
    }
    symbol-types {
      args = symbol-types
    }
  }
}

programs.nm {
  sources = nm.vala
  vala-packages = posix
  install = false
}

data.bake-get-symbols-tests {
  install = false
  files = empty/expected \
          empty/source.o \
          empty/test.conf \
          symbol-types/expected \
          symbol-types/source.o \
          symbol-types/test.conf
}

programs.test-bake-gettext {
  sources = test-bake-gettext.vala
  vala-packages = posix
  install = false

  tests {
    c-simple {
      args = c-simple
    }
    c-alias {
      args = c-alias
    }
    c-duplicate {
      args = c-duplicate
    }
    c-blank {
      args = c-blank
    }
    c-whitespace {
      args = c-whitespace
    }
    c-comments {
      args = c-comments
    }
    c-dgettext {
      args = c-dgettext
    }
    c-ngettext {
      args = c-ngettext
    }
    python-simple {
      args = python-simple
    }
    python-alias {
      args = python-alias
    }
    python-duplicate {
      args = python-duplicate
    }
    python-blank {
      args = python-blank
    }
    python-comments {
      args = python-comments
    }
    python-whitespace {
      args = python-whitespace
    }
    python-dgettext {
      args = python-dgettext
    }
    python-ngettext {
      args = python-ngettext
    }
  }
}

data.bake-gettext-tests {
  install = false
  files = c-alias/expected \
          c-alias/source.c \
          c-alias/test.conf \
          c-blank/expected \
          c-blank/source.c \
          c-blank/test.conf \
          c-comments/expected \
          c-comments/source.c \
          c-comments/test.conf \
          c-dgettext/expected \
          c-dgettext/source.c \
          c-dgettext/test.conf \
          c-duplicate/expected \
          c-duplicate/source.c \
          c-duplicate/test.conf \
          c-ngettext/expected \
          c-ngettext/source.c \
          c-ngettext/test.conf \
          c-simple/expected \
          c-simple/source.c \
          c-simple/test.conf \
          c-whitespace/expected \
          c-whitespace/source.c \
          c-whitespace/test.conf \
          python-alias/expected \
          python-alias/test.conf \
          python-alias/source.py \
          python-blank/expected \
          python-blank/test.conf \
          python-blank/source.py \
          python-comments/expected \
          python-comments/test.conf \
          python-comments/source.py \
          python-dgettext/expected \
          python-dgettext/test.conf \
          python-dgettext/source.py \
          python-duplicate/expected \
          python-duplicate/test.conf \
          python-duplicate/source.py \
          python-ngettext/expected \
          python-ngettext/test.conf \
          python-ngettext/source.py \
          python-simple/expected \
          python-simple/test.conf \
          python-simple/source.py \
          python-whitespace/expected \
          python-whitespace/test.conf \
          python-whitespace/source.py
}

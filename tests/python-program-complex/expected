!bake
python2.7 -m py_compile test1.py
python2.7 -m py_compile test2.py
python2.7 -m py_compile test3.py
mkdir -p .built
xgettext --extract-all --language=Python --output=.built/test1.py.po test1.py
touch .built/test1.py.po
xgettext --extract-all --language=Python --output=.built/test2.py.po test2.py
touch .built/test2.py.po
xgettext --extract-all --language=Python --output=.built/test3.py.po test3.py
touch .built/test3.py.po
msgcat --force-po --output-file=test.pot .built/test1.py.po .built/test2.py.po .built/test3.py.po
(exit SUCCESS)
!bake install
mkdir -p /usr/local/share/test
install test1.pyc /usr/local/share/test/test1.pyc
install test2.pyc /usr/local/share/test/test2.pyc
install test3.pyc /usr/local/share/test/test3.pyc
mkdir -p /usr/local/bin
install .built/test /usr/local/bin/test
(exit SUCCESS)
!bake clean
rm -f test1.pyc
rm -f test2.pyc
rm -f test3.pyc
rm -rf .built/
rm -f test.pot
# FIXME: Duplicate removal
rm -f test1.pyc
rm -f test
rm -f test1.pyc
(exit SUCCESS)

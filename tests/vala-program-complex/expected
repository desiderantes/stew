!bake
valac --fast-vapi=.built/test2.vapi test2.vala
touch .built/test2.vapi-stamp
valac --fast-vapi=.built/test3.vapi test3.vala
touch .built/test3.vapi-stamp
valac --ccode test1.vala --use-fast-vapi=.built/test2.vapi --use-fast-vapi=.built/test3.vapi
touch .built/test1.c-stamp
gcc -Wno-unused -c .built/test1.c -o .built/test1.o
valac --fast-vapi=.built/test1.vapi test1.vala
touch .built/test1.vapi-stamp
valac --ccode test2.vala --use-fast-vapi=.built/test1.vapi --use-fast-vapi=.built/test3.vapi
touch .built/test2.c-stamp
gcc -Wno-unused -c .built/test2.c -o .built/test2.o
valac --ccode test3.vala --use-fast-vapi=.built/test1.vapi --use-fast-vapi=.built/test2.vapi
touch .built/test3.c-stamp
gcc -Wno-unused -c .built/test3.c -o .built/test3.o
gcc -o test .built/test1.o .built/test2.o .built/test3.o
(exit 0)
!bake install
install test /usr/local/bin/test
(exit 0)
